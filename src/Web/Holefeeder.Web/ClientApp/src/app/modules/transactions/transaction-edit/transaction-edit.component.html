<ng-container *ngIf="values$ | async as values">

  <div [formGroup]="form" class="container mt-2">
    <div class="form-group">
      <label for="amount">Amount</label>
      <input class="form-control" dftaAutofocus formControlName="amount" id="amount" placeholder="transaction amount..."
             required type="number"/>
    </div>
    <div class="form-group">
      <label for="datepicker">Date</label>
      <div class="input-group mb-2">
        <input #date="ngbDatepicker" (click)="date.toggle()" [firstDayOfWeek]=7 class="form-control"
               formControlName="date"
               id="datepicker" ngbDatepicker placeholder="yyyy-mm-dd"/>
        <div class="input-group-append">
          <a (click)="date.toggle()" class="btn btn-outline-secondary text-secondary">
            <em class="bi bi-calendar-event"></em>
          </a>
        </div>
      </div>
      <em *ngIf="form.get('date')?.invalid && form.get('date')?.dirty" class="form-text text-danger">Required</em>
    </div>
    <div class="form-group">
      <label for="category">Category</label>
      <select class="form-control" formControlName="category" id="category" required>
        <option *ngFor="let category of values.categories" [ngValue]="category.id">{{ category.name }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="account">Account</label>
      <select class="form-control" formControlName="account" id="account" required>
        <option *ngFor="let account of values.accounts" [ngValue]="account.id">{{ account.name }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="tags">Tags</label>
      <app-tags-input [tagsArray]="tags" formArrayName="tags" id="tags"></app-tags-input>
    </div>
    <div class="form-group">
      <label for="description">Note</label>
      <input [placeholder]="'transaction note...'" class="form-control" formControlName="description" id="description"
             type="text"/>
    </div>
  </div>
</ng-container>
