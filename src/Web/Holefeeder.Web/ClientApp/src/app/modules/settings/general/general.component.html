<ng-container *ngIf="settings$ | async; else loader">
  <div class="container pt-3 mb-5">
    <form (ngSubmit)="onSubmit()" [formGroup]="settingsForm">
      <div class="form-group">
        <label for="datepicker">Date</label>
        <div class="input-group mb-2">
          <input #date="ngbDatepicker" (click)="date.toggle()" [firstDayOfWeek]=7 class="form-control"
                 formControlName="effectiveDate" id="datepicker" ngbDatepicker placeholder="yyyy-mm-dd" required/>
          <div class="input-group-append">
            <a (click)="date.toggle()" class="btn btn-outline-secondary">
              <em class="bi bi-calendar-event"></em>
            </a>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="intervalType">Interval type</label>
        <select [compareWith]="compareFn" class="form-control" formControlName="intervalType" id="interval" required>
          <option *ngFor="let interval of intervalTypesNames | keyvalue" [ngValue]="interval.key">{{interval.value}}
          </option>
        </select>
      </div>
      <div class="form-group">
        <label for="frequency">Frequency</label>
        <input class="form-control" formControlName="frequency" id="frequency" min="1" required type="number">
      </div>
      <div class="d-flex justify-content-end mt-4">
        <button class="btn btn-primary me-2" routerLink="../">Cancel</button>
        <button [disabled]="!settingsForm.valid" class="btn btn-danger" type="submit">Save</button>
      </div>
    </form>
  </div>
</ng-container>
<ng-template #loader>
  Loading...
</ng-template>
